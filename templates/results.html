<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Recommendations Results</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body>
    <h1>Recommendations</h1>
    <p><strong>Media:</strong> {{ media }}</p>
    <p><strong>Content:</strong> {{ content }}</p>
    <h2>Recommended Items:</h2>
    <ul>
        {% for item in recommendations.split('\n') %}
            <li>{{ item.strip() }}</li>
        {% endfor %}
    </ul>

    <!--Check if the media is music-->
    {% if media.lower() == 'music' %}
    <h2>Music Details</h2>
    <ul>
        <!--Iterate through each track names-->
        {% for track_name, track_id in track_ids.items() %}
            <li>
                <iframe style="border-radius:12px" src="https://open.spotify.com/embed/track/{{ track_id }}?utm_source=generator" width="100%" height="352" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
            </li>
        {% endfor %}
    </ul>
    {% endif %}

    {% if media.lower() == 'movie' %}
    <h2>Moive Trailers</h2>
    <ul>
        {% for link in trailers %}
            <li>
                <iframe width="560" height="315" src="{{ link }}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </li>
        {% endfor %}
    </ul>
    {% endif %}

    <!--Go back home-->
    <a href="{{ url_for('index') }}">Back to Home</a>

</body>
</html>
